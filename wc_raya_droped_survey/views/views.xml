<odoo>
  <data>

<!-- Survey User Input override -->
      <record model="ir.ui.view" id="wc_survey_user_input_dropped">
        <field name="name">wc_survey_user_input_dropped</field>
        <field name="model">survey.user_input</field>
        <field name="inherit_id" ref="survey.survey_user_input_view_form"/>
        <field name="arch" type="xml">
          <field name="assessment_id" position="after">
            <field name="applicant_id" string="Application" force_save="1" readonly="1"/>
            <field name="project_id" string="Project" force_save="1" readonly="1"/>
            <field name="recruiter_id" string="Recruiter" force_save="1" readonly="1"/>
          </field>
        </field>
      </record>

<!-- survey form override -->
  <record model="ir.ui.view" id="assessment_test_survey_form">
          <field name="name">Form view for survey</field>
          <field name="model">survey.survey</field>
          <field name="inherit_id" ref="survey.survey_form" />
          <field name="arch" type="xml">
              <xpath expr="//form/sheet/group/group" position="inside">
              <field name="dropped_survey" string="Dropped Survey" />
              </xpath>
          </field>
  </record>

<!-- HR Applicant Form Override -->
  <record id="view_hr_applicant_assess_form" model="ir.ui.view">
                    <field name="name">view.hr.applicant.form</field>
                    <field name="model">hr.applicant</field>
                    <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form" />
                    <field name="arch" type="xml">
                        <xpath expr="//header" position="inside">
                          <button name="action_send_survey" type="object" string="Send Dropped Survey" attrs="{'invisible':['|',('tarinee_status','!=','dropped'),('dropped_answer_id','!=',False)]}"/>
                        </xpath>
                        <field name="joined_training" position="after">
                          <field name="trainer_id" force_save="1" attrs="{'invisible':[('joined_training','!=','yes')],'readonly':[('tarinee_status','!=',False)]}"/>
                          <field name="training_session" force_save="1" attrs="{'invisible':[('joined_training','!=','yes')],'readonly':[('tarinee_status','!=',False)]}"/>
                        </field>
                        <field name="tarinee_status" position="after">

                        <field name="dropped_survey" readonly="1" force_save="1" attrs="{'invisible':[('tarinee_status','!=','dropped')]}"/>
                        <field name="dropped_answer_id" readonly="1" force_save="1" />

                        </field>
                    </field>
                </record>


  <record id="tree_whyv_report" model="ir.ui.view">
                    <field name="name">tree_whyv_report</field>
                    <field name="model">we_hear_your_voice.report</field>
                    <field name="arch" type="xml">
                    <tree>
                      <field name="timestamp_date"/>
                      <field name="applicant_id"/>
                      <field name="project_id"/>
                      <field name="applicant_number"/>
                      <field name="recruiter_id"/>
                      <field name="trainer_id"/>
                      <field name="training_session"/>
                      <field name="question_id"/>
                      <field name="value_text_box"/>
                      <field name="suggested_answer_id"/>
                    </tree>
                    </field>
                </record>

      <record id="action_whyv_report" model="ir.actions.act_window">
      <field name="name">We Hear Your Voice</field>
      <field name="res_model">we_hear_your_voice.report</field>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="tree_whyv_report"/>
      <field name="context">{'group_by': 'applicant_id'}</field>
      </record>

      <menuitem name="Reporting" sequence="100" id="menu_reporting" parent="survey.menu_surveys"/>
      <menuitem name="We Hear Your Voice" id="menu_report_whyv" parent="menu_reporting" action="action_whyv_report"/>

  </data>
</odoo>
